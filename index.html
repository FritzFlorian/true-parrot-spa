<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.6/semantic.min.js"></script>

    <script type="text/javascript" src="/js/jquery.masonry.min.js"></script>
    <script type="text/javascript" src="/js/imagesloaded.pkgd.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

    <link rel="stylesheet" media="screen" href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.6/semantic.min.css">
    <link rel="stylesheet" media="screen" href="/css/main.css">
    <link rel="shortcut icon" type="image/png" href="/img/favicon.ico">
  </head>

  <body aurelia-app="main">
    <script src="scripts/vendor-bundle.js" data-main="aurelia-bootstrapper"></script>

    <script>
      // Hack to run existing jquery code.
      // Could replace this with custom elements later on.
      var runJquery = function () {
        console.log($('.ui.dropdown'));
        $('.ui.dropdown').dropdown({ on: 'hover' });
        $('.message .close')
          .on('click', function() {
            $(this)
              .closest('.message')
              .fadeOut({ complete: calculateMasonry });
          });

        var $container = $('.masonry-grid');
        $container.imagesLoaded(function(){
          calculateMasonry();
        });
        $('.ui.checkbox')
          .checkbox()
        ;

        function calculateMasonry() {
          $container.masonry({
            // options
            itemSelector: '.masonry-grid-item',
            isFitWidth: true,
            containerStyle: {
              margin: '0 auto',
            }
          });
        }

        $('.ui.sticky')
          .sticky({
            context: '#context',
            offset: 64,
          })
        ;
      };
    </script>
  </body>
</html>
