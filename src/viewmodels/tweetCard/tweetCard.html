<template>
  <div class="ui card">
    <div class="content">
      <div class="right floated meta">${tweet.createdAt}</div>
      <a href="/users/{{creator._id}}">
        <img class="ui avatar image" src="${tweet.creator.gravatar()}">
        ${tweet.creator.fullName()}
      </a>
    </div>
    <div class="content">
      <p>${tweet.message}</p>
    </div>
    <div class="image" show.bind="tweet.image">
      <img src="${tweet.image}">
    </div>
    <div class="extra content">
      <a show.bind="tweet.canUserDeletePost(currentUser)" click.delegate="delete($event)">
        <i class="big trash icon"></i>
        Delete
      </a>

      <a class="right floated" id="parrot-{{ _id }}">
        <img class="ui icon image" src="/images/parrot_round_highlight.svg" show.bind="tweet.hasParrotedTweet(currentUser)"/>
        <img class="ui icon image" src="/images/parrot_round.svg" show.bind="!tweet.hasParrotedTweet(currentUser)"/>

        ${tweet.parroting.length} parroting
        <!-- TODO: add parroting logic -->
      </a>
    </div>
  </div>
</template>
